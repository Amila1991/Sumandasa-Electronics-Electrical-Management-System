/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package setting;

import dataFilesControl.WriteFile;
import java.io.FileNotFoundException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JComboBox;

/**
 *
 * @author Amila
 */
public class AddNewHost extends javax.swing.JDialog {
    DatabaseConnectionSetting databaseConnectionSetting;
    /**
     * Creates new form AddNewHost
     */
    public AddNewHost(java.awt.Frame parent, boolean modal,JComboBox cmbHost,DatabaseConnectionSetting databaseConnectionSetting) {
        super(parent, modal);
        initComponents();
        this.databaseConnectionSetting=databaseConnectionSetting;
        setBt();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLayeredPane1 = new javax.swing.JLayeredPane();
        jLabel11 = new javax.swing.JLabel();
        txtDatabaseSetingsItemHost = new javax.swing.JTextField();
        lbDatabaseSetingsAddHost = new javax.swing.JLabel();
        btDatabaseSetingsAddHost = new javax.swing.JLabel();
        lbDatabaseSetingsRemoveHost = new javax.swing.JLabel();
        btDatabaseSetingsRemoveHost = new javax.swing.JLabel();
        cmbDatabaseSetingsItemHost = new javax.swing.JComboBox();
        btOK = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        jLabel11.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel11.setText("Host");
        jLabel11.setBounds(30, 70, 33, 17);
        jLayeredPane1.add(jLabel11, javax.swing.JLayeredPane.DEFAULT_LAYER);
        txtDatabaseSetingsItemHost.setBounds(230, 110, 220, 25);
        jLayeredPane1.add(txtDatabaseSetingsItemHost, javax.swing.JLayeredPane.DEFAULT_LAYER);

        lbDatabaseSetingsAddHost.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pictures/setting/Symbol-Add30.png"))); // NOI18N
        lbDatabaseSetingsAddHost.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lbDatabaseSetingsAddHostMouseEntered(evt);
            }
        });
        lbDatabaseSetingsAddHost.setBounds(240, 60, 30, 30);
        jLayeredPane1.add(lbDatabaseSetingsAddHost, javax.swing.JLayeredPane.DEFAULT_LAYER);

        btDatabaseSetingsAddHost.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pictures/setting/Symbol-Add45.png"))); // NOI18N
        btDatabaseSetingsAddHost.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btDatabaseSetingsAddHostMouseClicked(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btDatabaseSetingsAddHostMouseExited(evt);
            }
        });
        btDatabaseSetingsAddHost.setBounds(230, 50, 50, 50);
        jLayeredPane1.add(btDatabaseSetingsAddHost, javax.swing.JLayeredPane.DEFAULT_LAYER);

        lbDatabaseSetingsRemoveHost.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pictures/setting/Symbol-Restricted30.png"))); // NOI18N
        lbDatabaseSetingsRemoveHost.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                lbDatabaseSetingsRemoveHostMouseEntered(evt);
            }
        });
        lbDatabaseSetingsRemoveHost.setBounds(170, 60, 30, 30);
        jLayeredPane1.add(lbDatabaseSetingsRemoveHost, javax.swing.JLayeredPane.DEFAULT_LAYER);

        btDatabaseSetingsRemoveHost.setIcon(new javax.swing.ImageIcon(getClass().getResource("/pictures/setting/Symbol-Restricted45.png"))); // NOI18N
        btDatabaseSetingsRemoveHost.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btDatabaseSetingsRemoveHostMouseClicked(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                btDatabaseSetingsRemoveHostMouseExited(evt);
            }
        });
        btDatabaseSetingsRemoveHost.setBounds(160, 50, 50, 50);
        jLayeredPane1.add(btDatabaseSetingsRemoveHost, javax.swing.JLayeredPane.DEFAULT_LAYER);

        cmbDatabaseSetingsItemHost.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "localhost" }));
        cmbDatabaseSetingsItemHost.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                cmbDatabaseSetingsItemHostFocusGained(evt);
            }
        });
        cmbDatabaseSetingsItemHost.setBounds(30, 110, 180, 25);
        jLayeredPane1.add(cmbDatabaseSetingsItemHost, javax.swing.JLayeredPane.DEFAULT_LAYER);

        btOK.setText("OK");
        btOK.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btOKActionPerformed(evt);
            }
        });
        btOK.setBounds(343, 163, 80, 30);
        jLayeredPane1.add(btOK, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 466, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLayeredPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 214, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void lbDatabaseSetingsAddHostMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lbDatabaseSetingsAddHostMouseEntered
        lbDatabaseSetingsAddHost.setVisible(false);
        btDatabaseSetingsAddHost.setVisible(true);
    }//GEN-LAST:event_lbDatabaseSetingsAddHostMouseEntered

    private void btDatabaseSetingsAddHostMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btDatabaseSetingsAddHostMouseClicked
        cmbDatabaseSetingsItemHost.addItem(txtDatabaseSetingsItemHost.getText());
        txtDatabaseSetingsItemHost.setText("");
    }//GEN-LAST:event_btDatabaseSetingsAddHostMouseClicked

    private void btDatabaseSetingsAddHostMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btDatabaseSetingsAddHostMouseExited
        btDatabaseSetingsAddHost.setVisible(false);
        lbDatabaseSetingsAddHost.setVisible(true);
    }//GEN-LAST:event_btDatabaseSetingsAddHostMouseExited

    private void lbDatabaseSetingsRemoveHostMouseEntered(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_lbDatabaseSetingsRemoveHostMouseEntered
        lbDatabaseSetingsRemoveHost.setVisible(false);
        btDatabaseSetingsRemoveHost.setVisible(true);
    }//GEN-LAST:event_lbDatabaseSetingsRemoveHostMouseEntered

    private void btDatabaseSetingsRemoveHostMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btDatabaseSetingsRemoveHostMouseClicked
        int x = cmbDatabaseSetingsItemHost.getSelectedIndex();
        cmbDatabaseSetingsItemHost.removeItemAt(x);
    }//GEN-LAST:event_btDatabaseSetingsRemoveHostMouseClicked

    private void btDatabaseSetingsRemoveHostMouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btDatabaseSetingsRemoveHostMouseExited
        btDatabaseSetingsRemoveHost.setVisible(false);
        lbDatabaseSetingsRemoveHost.setVisible(true);
    }//GEN-LAST:event_btDatabaseSetingsRemoveHostMouseExited

    private void cmbDatabaseSetingsItemHostFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_cmbDatabaseSetingsItemHostFocusGained

    }//GEN-LAST:event_cmbDatabaseSetingsItemHostFocusGained

    private void btOKActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btOKActionPerformed
       String[] data=new String[cmbDatabaseSetingsItemHost.getItemCount()];
        for (int i = 0; i < data.length; i++) {
            data[i]=cmbDatabaseSetingsItemHost.getItemAt(i)+"";    
        }
        try {
            WriteFile.writeConnectionHost(data);
        } catch (FileNotFoundException ex) {
            Logger.getLogger(AddNewHost.class.getName()).log(Level.SEVERE, null, ex);
        }
        databaseConnectionSetting.setLoadView();
        dispose();
    }//GEN-LAST:event_btOKActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /*
         * Set the Nimbus look and feel
         */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /*
         * If Nimbus (introduced in Java SE 6) is not available, stay with the
         * default look and feel. For details see
         * http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(AddNewHost.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(AddNewHost.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(AddNewHost.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(AddNewHost.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /*
         * Create and display the dialog
         */
        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                AddNewHost dialog = new AddNewHost(new javax.swing.JFrame(), true,null,null);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {

                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel btDatabaseSetingsAddHost;
    private javax.swing.JLabel btDatabaseSetingsRemoveHost;
    private javax.swing.JButton btOK;
    private javax.swing.JComboBox cmbDatabaseSetingsItemHost;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLayeredPane jLayeredPane1;
    private javax.swing.JLabel lbDatabaseSetingsAddHost;
    private javax.swing.JLabel lbDatabaseSetingsRemoveHost;
    private javax.swing.JTextField txtDatabaseSetingsItemHost;
    // End of variables declaration//GEN-END:variables
    private void setBt(){
        btDatabaseSetingsAddHost.setVisible(false);
        btDatabaseSetingsRemoveHost.setVisible(false);
    }
}
